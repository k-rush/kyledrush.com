
<script type="text/javascript">
$(document).ready(function(){
  
        $.ajax({
          type: 'GET', 
          url:'https://api.github.com/users/kdr213/repos',
          dataType: 'json',
          success: function(data) {
            $("#repos").html('');
            console.log(data[0].pushed_at);
            data.sort(function(a,b) {
              a = new Date(a.pushed_at);
              b = new Date(b.pushed_at);
              return a>b ? -1 : a<b ? 1 : 0;
            });
            var repoHTML = "";
            $.each(data, function(index, element){

              repoHTML = `<div class="col-sm-4 masonry__item">
                <a href="` + element.html_url + `">
                  <div class="boxed bg--white box-shadow">`
              repoHTML += "<span>" + element.name + "</span>";
              if(element.description) repoHTML += "<h5>" + element.description + "</h5>";

              repoHTML+= `<hr>
                            <p>Created: ` + new Date(element.created_at) +`<br>
                            Latest push: ` + new Date(element.pushed_at) + `</p>`;
              if(element.fork) repoHTML += `<p>This repository is a fork.</p>`;
              repoHTML += `</div></a></div>`
              //console.log(repoHTML);
              $("#repos").append(repoHTML);
            });
          $('#repos').accordion( "refresh" );
            
          }
        });

 });
</script>
<section class="bg--secondary">
  <div class="container">
    <div class="row">
      <div class="masonry">
        <div class="masonry__container masonry--active" id="repos">
        </div>
      </div>
    </div>
  </div>
</section>